Index: silkroad2/src/main/java/com/iset/silkroad2/controller/ReponseController.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>package com.iset.silkroad2.controller;\r\n\r\nimport com.iset.silkroad2.entities.Personne;\r\nimport com.iset.silkroad2.entities.Question;\r\nimport com.iset.silkroad2.entities.Reponse;\r\nimport com.iset.silkroad2.repository.PersonneRepository;\r\nimport com.iset.silkroad2.repository.QuestionRepository;\r\nimport com.iset.silkroad2.repository.ReponseRepository;\r\nimport jakarta.persistence.Column;\r\nimport jakarta.transaction.Transactional;\r\nimport org.springframework.beans.factory.annotation.*;\r\nimport org.springframework.http.ResponseEntity;\r\nimport org.springframework.stereotype.Controller;\r\nimport org.springframework.ui.Model;\r\nimport org.springframework.web.bind.annotation.*;\r\n\r\n\r\nimport java.security.Principal;\r\nimport java.util.Date;\r\nimport java.util.List;\r\nimport java.util.Optional;\r\n\r\n@Controller\r\n@RequestMapping(\"/reponse\")\r\npublic class ReponseController {\r\n\r\n    @Autowired\r\n    ReponseRepository reponseRepository;\r\n    @Autowired\r\n    PersonneRepository personnerepository;\r\n    @Autowired\r\n    QuestionRepository questionrepository;\r\n\r\n    @GetMapping(\"\")\r\n    public List<Reponse> getallreponse(){\r\n        return reponseRepository.findAll();\r\n    }\r\n\r\n//    @GetMapping(\"/{id}\")\r\n//    public Reponse getreponsebyid(@PathVariable long id){\r\n//\r\n//        return reponseRepository.findById(id);\r\n//    }\r\n\r\n    @GetMapping(\"/{id}\")\r\n    public String getQuestionById(@PathVariable Long id, Model model) {\r\n        Question question = questionrepository.findById(id);\r\n\r\n        List<Reponse> reponse = question.getReponse();\r\n\r\n        model.addAttribute(\"question\", question);\r\n        model.addAttribute(\"answers\", reponse);\r\n        model.addAttribute(\"reponse\", new Reponse());\r\n\r\n        return \"reponse/reponse\";\r\n    }\r\n\r\n//    editer\r\n@GetMapping(\"/reponse/{id}/edit\")\r\npublic String showEditResponseForm(@PathVariable Long id, Model model) {\r\n    Reponse reponse = reponseRepository.findById(id);\r\n    String questionTitre = reponse.getQuestion().getTitreq();\r\n    model.addAttribute(\"reponse\", reponse);\r\n    model.addAttribute(\"questionTitre\", questionTitre);\r\n    return \"reponse/edit_reponse\";\r\n}\r\n\r\n\r\n\r\n\r\n\r\n    @PostMapping(\"/{questionId}/addanswer\")\r\n    public ResponseEntity<Reponse> addAnswerToQuestion(@PathVariable Long questionId, @RequestBody Reponse reponse, Principal principal) {\r\n        Optional<Question> optionalQuestion = Optional.ofNullable(questionrepository.findById(questionId));\r\n        if (optionalQuestion.isPresent()) {\r\n            Question question = optionalQuestion.get();\r\n            String username =principal.getName();\r\n            Personne personne=personnerepository.findByNom(username);\r\n            reponse.setPersonne(personne);\r\n            reponse.setQuestion(question);\r\n            reponse.setCreatedat(new Date());\r\n            Reponse savedAnswer = reponseRepository.save(reponse);\r\n            return ResponseEntity.ok(savedAnswer);\r\n        } else {\r\n            return ResponseEntity.notFound().build();\r\n        }\r\n    }\r\n//9bal mane5dem el user\r\n\r\n\r\n    @PutMapping(\"/modifier/{questionid}\")\r\n    public String addAnswerContentOnly(@PathVariable Long questionId, @ModelAttribute(\"reponse\") Reponse reponse) {\r\n        Optional<Question> optionalQuestion = Optional.ofNullable(questionrepository.findById(questionId));\r\n        if (optionalQuestion.isPresent()) {\r\n            Question question = optionalQuestion.get();\r\n            Reponse existingReponse = reponseRepository.findById(reponse.getId());\r\n            existingReponse.setQuestion(question);\r\n            existingReponse.setContenua(reponse.getContenua());\r\n            existingReponse.setCreatedat(new Date());\r\n            Reponse savedAnswer = reponseRepository.save(existingReponse);\r\n            // Redirect to the template\r\n            return \"redirect:/question/index\";\r\n        } else {\r\n            // Handle not found case\r\n            return \"error\";\r\n        }\r\n}\r\n\r\n    @PutMapping(\"/modify/{id}\")\r\n    public String updateResponse(@PathVariable Long id, @ModelAttribute(\"reponse\") Reponse updatedResponse) {\r\n        Reponse existingResponse = reponseRepository.findById(id);\r\n        existingResponse.setContenua(updatedResponse.getContenua());\r\n        reponseRepository.save(existingResponse);\r\n        return \"redirect:/question/index\";\r\n    }\r\n\r\n\r\n\r\n\r\n\r\n//\r\n\r\n\r\n\r\n\r\n    @PostMapping(\"/add\")\r\n    public Reponse addreponse(@RequestBody Reponse reponse){\r\n        return reponseRepository.save(reponse);\r\n    }\r\n\r\n    @PutMapping(\"/modifier/{id}\")\r\n    public Reponse modifierreponse(@RequestBody Reponse reponse,@PathVariable Long id){\r\n        Reponse reponse1=reponseRepository.findById(id);\r\n        reponse1.setContenua(reponse.getContenua());\r\n\r\n        return reponseRepository.save(reponse1);\r\n    }\r\n\r\n    @DeleteMapping(\"/{id}\")\r\n    @Transactional\r\n    public void deletereponse(@PathVariable Long id){\r\n        reponseRepository.deleteById(id);\r\n    }\r\n\r\n\r\n\r\n}\r\n
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/silkroad2/src/main/java/com/iset/silkroad2/controller/ReponseController.java b/silkroad2/src/main/java/com/iset/silkroad2/controller/ReponseController.java
--- a/silkroad2/src/main/java/com/iset/silkroad2/controller/ReponseController.java	
+++ b/silkroad2/src/main/java/com/iset/silkroad2/controller/ReponseController.java	
@@ -13,6 +13,7 @@
 import org.springframework.stereotype.Controller;
 import org.springframework.ui.Model;
 import org.springframework.web.bind.annotation.*;
+import org.springframework.web.servlet.mvc.support.RedirectAttributes;
 
 
 import java.security.Principal;
@@ -44,38 +45,41 @@
 
     @GetMapping("/{id}")
     public String getQuestionById(@PathVariable Long id, Model model) {
-        Question question = questionrepository.findById(id);
-
-        List<Reponse> reponse = question.getReponse();
-
-        model.addAttribute("question", question);
-        model.addAttribute("answers", reponse);
-        model.addAttribute("reponse", new Reponse());
-
-        return "reponse/reponse";
+        Optional<Question> optionalQuestion = Optional.ofNullable(questionrepository.findById(id));
+        if (optionalQuestion.isPresent()) {
+            Question question = optionalQuestion.get();
+            List<Reponse> reponses = question.getReponse();
+            model.addAttribute("question", question);
+            model.addAttribute("answers", reponses);
+            model.addAttribute("reponse", new Reponse());
+            return "reponse/reponse";
+        } else {
+            return "error"; // Or redirect to a different error page
+        }
     }
 
-//    editer
-@GetMapping("/reponse/{id}/edit")
-public String showEditResponseForm(@PathVariable Long id, Model model) {
-    Reponse reponse = reponseRepository.findById(id);
-    String questionTitre = reponse.getQuestion().getTitreq();
-    model.addAttribute("reponse", reponse);
-    model.addAttribute("questionTitre", questionTitre);
-    return "reponse/edit_reponse";
-}
-
-
-
-
+    @GetMapping("/reponse/{id}/edit")
+    public String showEditResponseForm(@PathVariable Long id, Model model, RedirectAttributes redirectAttributes) {
+        Optional<Reponse> optionalReponse = Optional.ofNullable(reponseRepository.findById(id));
+        if (optionalReponse.isPresent()) {
+            Reponse reponse = optionalReponse.get();
+            String questionTitre = reponse.getQuestion().getTitreq();
+            model.addAttribute("reponse", reponse);
+            model.addAttribute("questionTitre", questionTitre);
+            return "reponse/edit_reponse";
+        } else {
+            redirectAttributes.addFlashAttribute("error", "Response not found.");
+            return "redirect:/question/questions     ";
+        }
+    }
 
     @PostMapping("/{questionId}/addanswer")
     public ResponseEntity<Reponse> addAnswerToQuestion(@PathVariable Long questionId, @RequestBody Reponse reponse, Principal principal) {
         Optional<Question> optionalQuestion = Optional.ofNullable(questionrepository.findById(questionId));
         if (optionalQuestion.isPresent()) {
             Question question = optionalQuestion.get();
-            String username =principal.getName();
-            Personne personne=personnerepository.findByNom(username);
+            String username = principal.getName();
+            Personne personne = personnerepository.findByNom(username);
             reponse.setPersonne(personne);
             reponse.setQuestion(question);
             reponse.setCreatedat(new Date());
@@ -85,63 +89,69 @@
             return ResponseEntity.notFound().build();
         }
     }
-//9bal mane5dem el user
 
-
-    @PutMapping("/modifier/{questionid}")
+    @PutMapping("/modifier/{questionId}")
     public String addAnswerContentOnly(@PathVariable Long questionId, @ModelAttribute("reponse") Reponse reponse) {
         Optional<Question> optionalQuestion = Optional.ofNullable(questionrepository.findById(questionId));
         if (optionalQuestion.isPresent()) {
             Question question = optionalQuestion.get();
-            Reponse existingReponse = reponseRepository.findById(reponse.getId());
-            existingReponse.setQuestion(question);
-            existingReponse.setContenua(reponse.getContenua());
-            existingReponse.setCreatedat(new Date());
-            Reponse savedAnswer = reponseRepository.save(existingReponse);
-            // Redirect to the template
-            return "redirect:/question/index";
+            Optional<Reponse> optionalReponse = Optional.ofNullable(reponseRepository.findById(reponse.getId()));
+            if (optionalReponse.isPresent()) {
+                Reponse existingReponse = optionalReponse.get();
+                existingReponse.setQuestion(question);
+                existingReponse.setContenua(reponse.getContenua());
+                existingReponse.setCreatedat(new Date());
+                reponseRepository.save(existingReponse);
+                return "redirect:/question/questions";
+            } else {
+                return "error";
+            }
         } else {
-            // Handle not found case
             return "error";
         }
-}
+    }
 
     @PutMapping("/modify/{id}")
     public String updateResponse(@PathVariable Long id, @ModelAttribute("reponse") Reponse updatedResponse) {
-        Reponse existingResponse = reponseRepository.findById(id);
-        existingResponse.setContenua(updatedResponse.getContenua());
-        reponseRepository.save(existingResponse);
-        return "redirect:/question/index";
+        Optional<Reponse> optionalReponse = Optional.ofNullable(reponseRepository.findById(id));
+        if (optionalReponse.isPresent()) {
+            Reponse existingResponse = optionalReponse.get();
+            existingResponse.setContenua(updatedResponse.getContenua());
+            reponseRepository.save(existingResponse);
+            return "redirect:/question/questions";
+        } else {
+            return "error";
+        }
     }
-
-
-
-
-
-//
-
-
-
 
     @PostMapping("/add")
-    public Reponse addreponse(@RequestBody Reponse reponse){
+    public Reponse addreponse(@RequestBody Reponse reponse) {
         return reponseRepository.save(reponse);
     }
 
     @PutMapping("/modifier/{id}")
-    public Reponse modifierreponse(@RequestBody Reponse reponse,@PathVariable Long id){
-        Reponse reponse1=reponseRepository.findById(id);
-        reponse1.setContenua(reponse.getContenua());
-
-        return reponseRepository.save(reponse1);
+    public Reponse modifierreponse(@RequestBody Reponse reponse, @PathVariable Long id) {
+        Optional<Reponse> optionalReponse = Optional.ofNullable(reponseRepository.findById(id));
+        if (optionalReponse.isPresent()) {
+            Reponse existingReponse = optionalReponse.get();
+            existingReponse.setContenua(reponse.getContenua());
+            return reponseRepository.save(existingReponse);
+        } else {
+            return null; // Handle appropriately
+        }
     }
 
     @DeleteMapping("/{id}")
     @Transactional
-    public void deletereponse(@PathVariable Long id){
-        reponseRepository.deleteById(id);
+    public String deletereponse(@PathVariable Long id, RedirectAttributes redirectAttributes) {
+        Optional<Reponse> optionalReponse = Optional.ofNullable(reponseRepository.findById(id));
+        if (optionalReponse.isPresent()) {
+            reponseRepository.deleteById(id);
+            redirectAttributes.addFlashAttribute("message", "Response deleted successfully.");
+        } else {
+            redirectAttributes.addFlashAttribute("error", "Response not found.");
+        }
+        return "redirect:/question/questions";
     }
-
-
 
 }
Index: .idea/workspace.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+><?xml version=\"1.0\" encoding=\"UTF-8\"?>\r\n<project version=\"4\">\r\n  <component name=\"AutoImportSettings\">\r\n    <option name=\"autoReloadType\" value=\"SELECTIVE\" />\r\n  </component>\r\n  <component name=\"ChangeListManager\">\r\n    <list default=\"true\" id=\"789c1bed-682f-4a10-8e7d-d1e5f5440891\" name=\"Changes\" comment=\"i did the header and the footer('who can fix the header and the footer so i can call them in the other file &lt;th:fragment and th:replace won't work &gt;')&#10;and i did the page add question,delete question ,edit question&#10;add answer,delete answer ,adit answer\">\r\n      <change afterPath=\"$PROJECT_DIR$/silkroad2/src/main/java/com/iset/silkroad2/controller/NotFoundException.java\" afterDir=\"false\" />\r\n      <change afterPath=\"$PROJECT_DIR$/silkroad2/src/main/resources/static/css/home.css\" afterDir=\"false\" />\r\n      <change afterPath=\"$PROJECT_DIR$/silkroad2/src/main/resources/static/js/like/dislike.js\" afterDir=\"false\" />\r\n      <change afterPath=\"$PROJECT_DIR$/silkroad2/src/main/resources/templates/home/home.html\" afterDir=\"false\" />\r\n      <change beforePath=\"$PROJECT_DIR$/.idea/workspace.xml\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/.idea/workspace.xml\" afterDir=\"false\" />\r\n      <change beforePath=\"$PROJECT_DIR$/silkroad2/pom.xml\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/silkroad2/pom.xml\" afterDir=\"false\" />\r\n      <change beforePath=\"$PROJECT_DIR$/silkroad2/src/main/java/com/iset/silkroad2/controller/QuestionController.java\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/silkroad2/src/main/java/com/iset/silkroad2/controller/QuestionController.java\" afterDir=\"false\" />\r\n      <change beforePath=\"$PROJECT_DIR$/silkroad2/src/main/java/com/iset/silkroad2/repository/QuestionRepository.java\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/silkroad2/src/main/java/com/iset/silkroad2/repository/QuestionRepository.java\" afterDir=\"false\" />\r\n      <change beforePath=\"$PROJECT_DIR$/silkroad2/src/main/java/com/iset/silkroad2/repository/ReponseRepository.java\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/silkroad2/src/main/java/com/iset/silkroad2/repository/ReponseRepository.java\" afterDir=\"false\" />\r\n      <change beforePath=\"$PROJECT_DIR$/silkroad2/src/main/resources/application.properties\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/silkroad2/src/main/resources/application.properties\" afterDir=\"false\" />\r\n      <change beforePath=\"$PROJECT_DIR$/silkroad2/src/main/resources/css/header.css\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/silkroad2/src/main/resources/static/css/header.css\" afterDir=\"false\" />\r\n      <change beforePath=\"$PROJECT_DIR$/silkroad2/src/main/resources/img/1.jpg\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/silkroad2/src/main/resources/static/imgs/1.jpg\" afterDir=\"false\" />\r\n      <change beforePath=\"$PROJECT_DIR$/silkroad2/src/main/resources/templates/Question/edit_question.html\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/silkroad2/src/main/resources/templates/Question/edit_question.html\" afterDir=\"false\" />\r\n      <change beforePath=\"$PROJECT_DIR$/silkroad2/src/main/resources/templates/Question/footer.css\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/silkroad2/src/main/resources/static/css/footer.css\" afterDir=\"false\" />\r\n      <change beforePath=\"$PROJECT_DIR$/silkroad2/src/main/resources/templates/Question/question.html\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/silkroad2/src/main/resources/templates/Question/question.html\" afterDir=\"false\" />\r\n      <change beforePath=\"$PROJECT_DIR$/silkroad2/src/main/resources/templates/reponse/edit_reponse.html\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/silkroad2/src/main/resources/templates/reponse/edit_reponse.html\" afterDir=\"false\" />\r\n      <change beforePath=\"$PROJECT_DIR$/silkroad2/src/main/resources/templates/reponse/reponse.css\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/silkroad2/src/main/resources/static/css/reponse.css\" afterDir=\"false\" />\r\n      <change beforePath=\"$PROJECT_DIR$/silkroad2/src/main/resources/templates/reponse/reponse.html\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/silkroad2/src/main/resources/templates/reponse/reponse.html\" afterDir=\"false\" />\r\n    </list>\r\n    <option name=\"SHOW_DIALOG\" value=\"false\" />\r\n    <option name=\"HIGHLIGHT_CONFLICTS\" value=\"true\" />\r\n    <option name=\"HIGHLIGHT_NON_ACTIVE_CHANGELIST\" value=\"false\" />\r\n    <option name=\"LAST_RESOLUTION\" value=\"IGNORE\" />\r\n  </component>\r\n  <component name=\"CodeStyleSettingsInfer\">\r\n    <option name=\"done\" value=\"true\" />\r\n  </component>\r\n  <component name=\"CompilerWorkspaceConfiguration\">\r\n    <option name=\"MAKE_PROJECT_ON_SAVE\" value=\"true\" />\r\n  </component>\r\n  <component name=\"FileTemplateManagerImpl\">\r\n    <option name=\"RECENT_TEMPLATES\">\r\n      <list>\r\n        <option value=\"Interface\" />\r\n        <option value=\"Enum\" />\r\n        <option value=\"HTML File\" />\r\n        <option value=\"Class\" />\r\n      </list>\r\n    </option>\r\n  </component>\r\n  <component name=\"Git.Settings\">\r\n    <option name=\"RECENT_BRANCH_BY_REPOSITORY\">\r\n      <map>\r\n        <entry key=\"$PROJECT_DIR$\" value=\"master\" />\r\n      </map>\r\n    </option>\r\n  </component>\r\n  <component name=\"HighlightingSettingsPerFile\">\r\n    <setting file=\"file://$PROJECT_DIR$/silkroad2/src/main/java/com/iset/silkroad2/Silkroad2Application.java\" root0=\"FORCE_HIGHLIGHTING\" />\r\n  </component>\r\n  <component name=\"MarkdownSettingsMigration\">\r\n    <option name=\"stateVersion\" value=\"1\" />\r\n  </component>\r\n  <component name=\"ProblemsViewState\">\r\n    <option name=\"selectedTabId\" value=\"QODANA_PROBLEMS_VIEW_TAB\" />\r\n  </component>\r\n  <component name=\"ProjectCodeStyleSettingsMigration\">\r\n    <option name=\"version\" value=\"2\" />\r\n  </component>\r\n  <component name=\"ProjectColorInfo\">{\r\n  &quot;associatedIndex&quot;: 8\r\n}</component>\r\n  <component name=\"ProjectId\" id=\"2fUxOsEcZvxJmhkMk51i6eTwLiR\" />\r\n  <component name=\"ProjectLevelVcsManager\">\r\n    <ConfirmationsSetting value=\"2\" id=\"Add\" />\r\n  </component>\r\n  <component name=\"ProjectViewState\">\r\n    <option name=\"hideEmptyMiddlePackages\" value=\"true\" />\r\n    <option name=\"showLibraryContents\" value=\"true\" />\r\n  </component>\r\n  <component name=\"PropertiesComponent\">{\r\n  &quot;keyToString&quot;: {\r\n    &quot;ASKED_ADD_EXTERNAL_FILES&quot;: &quot;true&quot;,\r\n    &quot;Application.Silkroad2Application.executor&quot;: &quot;Run&quot;,\r\n    &quot;DefaultHtmlFileTemplate&quot;: &quot;HTML File&quot;,\r\n    &quot;RunOnceActivity.OpenProjectViewOnStart&quot;: &quot;true&quot;,\r\n    &quot;RunOnceActivity.ShowReadmeOnStart&quot;: &quot;true&quot;,\r\n    &quot;SHARE_PROJECT_CONFIGURATION_FILES&quot;: &quot;true&quot;,\r\n    &quot;ToolWindowRun.ShowToolbar&quot;: &quot;false&quot;,\r\n    &quot;ignore.virus.scanning.warn.message&quot;: &quot;true&quot;,\r\n    &quot;kotlin-language-version-configured&quot;: &quot;true&quot;,\r\n    &quot;last_opened_file_path&quot;: &quot;C:/Users/banno/Downloads/js-liveEdit-223.8214.16.zip&quot;,\r\n    &quot;project.structure.last.edited&quot;: &quot;Modules&quot;,\r\n    &quot;project.structure.proportion&quot;: &quot;0.0&quot;,\r\n    &quot;project.structure.side.proportion&quot;: &quot;0.0&quot;,\r\n    &quot;settings.editor.selected.configurable&quot;: &quot;preferences.keymap&quot;\r\n  }\r\n}</component>\r\n  <component name=\"RecentsManager\">\r\n    <key name=\"CreateClassDialog.RecentsKey\">\r\n      <recent name=\"com.iset.silkroad2.controller\" />\r\n    </key>\r\n    <key name=\"CopyFile.RECENT_KEYS\">\r\n      <recent name=\"C:\\silkroadproject\\silkroad2\\src\\main\\java\\com\\iset\\silkroad2\" />\r\n    </key>\r\n    <key name=\"MoveFile.RECENT_KEYS\">\r\n      <recent name=\"C:\\silkroadproject\\silkroad2\\src\\main\\resources\\static\\imgs\" />\r\n      <recent name=\"C:\\silkroadproject\\silkroad2\\src\\main\\resources\\static\\\" />\r\n      <recent name=\"C:\\silkroadproject\\silkroad2\\src\\main\\resources\\static\" />\r\n      <recent name=\"C:\\silkroadproject\\silkroad2\\src\\main\\resources\\css\" />\r\n      <recent name=\"C:\\silkroadproject\\silkroad2\\src\\main\\resources\" />\r\n    </key>\r\n    <key name=\"CopyClassDialog.RECENTS_KEY\">\r\n      <recent name=\"com.iset.silkroad2.entity\" />\r\n    </key>\r\n  </component>\r\n  <component name=\"RunAnythingCache\">\r\n    <option name=\"myCommands\">\r\n      <command value=\"jpaRepository\" />\r\n    </option>\r\n  </component>\r\n  <component name=\"RunManager\">\r\n    <configuration name=\"Silkroad2Application\" type=\"Application\" factoryName=\"Application\" nameIsGenerated=\"true\">\r\n      <option name=\"MAIN_CLASS_NAME\" value=\"com.iset.silkroad2.Silkroad2Application\" />\r\n      <module name=\"silkroad2\" />\r\n      <extension name=\"coverage\">\r\n        <pattern>\r\n          <option name=\"PATTERN\" value=\"com.iset.silkroad2.*\" />\r\n          <option name=\"ENABLED\" value=\"true\" />\r\n        </pattern>\r\n      </extension>\r\n      <method v=\"2\">\r\n        <option name=\"Make\" enabled=\"true\" />\r\n      </method>\r\n    </configuration>\r\n  </component>\r\n  <component name=\"SharedIndexes\">\r\n    <attachedChunks>\r\n      <set>\r\n        <option value=\"jdk-21.0.2-openjdk-21.0.2-4caba194b151-4f524021\" />\r\n      </set>\r\n    </attachedChunks>\r\n  </component>\r\n  <component name=\"SpellCheckerSettings\" RuntimeDictionaries=\"0\" Folders=\"0\" CustomDictionaries=\"0\" DefaultDictionary=\"application-level\" UseSingleDictionary=\"true\" transferred=\"true\" />\r\n  <component name=\"TaskManager\">\r\n    <task active=\"true\" id=\"Default\" summary=\"Default task\">\r\n      <changelist id=\"789c1bed-682f-4a10-8e7d-d1e5f5440891\" name=\"Changes\" comment=\"\" />\r\n      <created>1713869428829</created>\r\n      <option name=\"number\" value=\"Default\" />\r\n      <option name=\"presentableId\" value=\"Default\" />\r\n      <updated>1713869428829</updated>\r\n    </task>\r\n    <task id=\"LOCAL-00001\" summary=\"i did the header and the footer('who can fix the header and the footer so i can call them in the other file &lt;th:fragment and th:replace won't work &gt;')\">\r\n      <created>1714817275092</created>\r\n      <option name=\"number\" value=\"00001\" />\r\n      <option name=\"presentableId\" value=\"LOCAL-00001\" />\r\n      <option name=\"project\" value=\"LOCAL\" />\r\n      <updated>1714817275092</updated>\r\n    </task>\r\n    <option name=\"localTasksCounter\" value=\"2\" />\r\n    <servers />\r\n  </component>\r\n  <component name=\"VcsManagerConfiguration\">\r\n    <option name=\"ADD_EXTERNAL_FILES_SILENTLY\" value=\"true\" />\r\n    <MESSAGE value=\"i did the header and the footer('who can fix the header and the footer so i can call them in the other file &lt;th:fragment and th:replace won't work &gt;')\" />\r\n    <MESSAGE value=\"i did the header and the footer('who can fix the header and the footer so i can call them in the other file &lt;th:fragment and th:replace won't work &gt;')&#10;and i did the page add question,delete question ,edit question&#10;add answer,delete answer ,adit answer\" />\r\n    <option name=\"LAST_COMMIT_MESSAGE\" value=\"i did the header and the footer('who can fix the header and the footer so i can call them in the other file &lt;th:fragment and th:replace won't work &gt;')&#10;and i did the page add question,delete question ,edit question&#10;add answer,delete answer ,adit answer\" />\r\n  </component>\r\n  <component name=\"XSLT-Support.FileAssociations.UIState\">\r\n    <expand />\r\n    <select />\r\n  </component>\r\n  <component name=\"com.intellij.coverage.CoverageDataManagerImpl\">\r\n    <SUITE FILE_PATH=\"coverage/silkroadproject$Silkroad2Application.ic\" NAME=\"Silkroad2Application Coverage Results\" MODIFIED=\"1715259569421\" SOURCE_PROVIDER=\"com.intellij.coverage.DefaultCoverageFileProvider\" RUNNER=\"idea\" COVERAGE_BY_TEST_ENABLED=\"false\" COVERAGE_TRACING_ENABLED=\"false\">\r\n      <FILTER>com.iset.silkroad2.*</FILTER>\r\n    </SUITE>\r\n  </component>\r\n</project>
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/.idea/workspace.xml b/.idea/workspace.xml
--- a/.idea/workspace.xml	
+++ b/.idea/workspace.xml	
@@ -4,24 +4,11 @@
     <option name="autoReloadType" value="SELECTIVE" />
   </component>
   <component name="ChangeListManager">
-    <list default="true" id="789c1bed-682f-4a10-8e7d-d1e5f5440891" name="Changes" comment="i did the header and the footer('who can fix the header and the footer so i can call them in the other file &lt;th:fragment and th:replace won't work &gt;')&#10;and i did the page add question,delete question ,edit question&#10;add answer,delete answer ,adit answer">
-      <change afterPath="$PROJECT_DIR$/silkroad2/src/main/java/com/iset/silkroad2/controller/NotFoundException.java" afterDir="false" />
-      <change afterPath="$PROJECT_DIR$/silkroad2/src/main/resources/static/css/home.css" afterDir="false" />
-      <change afterPath="$PROJECT_DIR$/silkroad2/src/main/resources/static/js/like/dislike.js" afterDir="false" />
-      <change afterPath="$PROJECT_DIR$/silkroad2/src/main/resources/templates/home/home.html" afterDir="false" />
+    <list default="true" id="789c1bed-682f-4a10-8e7d-d1e5f5440891" name="Changes" comment="">
       <change beforePath="$PROJECT_DIR$/.idea/workspace.xml" beforeDir="false" afterPath="$PROJECT_DIR$/.idea/workspace.xml" afterDir="false" />
-      <change beforePath="$PROJECT_DIR$/silkroad2/pom.xml" beforeDir="false" afterPath="$PROJECT_DIR$/silkroad2/pom.xml" afterDir="false" />
       <change beforePath="$PROJECT_DIR$/silkroad2/src/main/java/com/iset/silkroad2/controller/QuestionController.java" beforeDir="false" afterPath="$PROJECT_DIR$/silkroad2/src/main/java/com/iset/silkroad2/controller/QuestionController.java" afterDir="false" />
-      <change beforePath="$PROJECT_DIR$/silkroad2/src/main/java/com/iset/silkroad2/repository/QuestionRepository.java" beforeDir="false" afterPath="$PROJECT_DIR$/silkroad2/src/main/java/com/iset/silkroad2/repository/QuestionRepository.java" afterDir="false" />
-      <change beforePath="$PROJECT_DIR$/silkroad2/src/main/java/com/iset/silkroad2/repository/ReponseRepository.java" beforeDir="false" afterPath="$PROJECT_DIR$/silkroad2/src/main/java/com/iset/silkroad2/repository/ReponseRepository.java" afterDir="false" />
-      <change beforePath="$PROJECT_DIR$/silkroad2/src/main/resources/application.properties" beforeDir="false" afterPath="$PROJECT_DIR$/silkroad2/src/main/resources/application.properties" afterDir="false" />
-      <change beforePath="$PROJECT_DIR$/silkroad2/src/main/resources/css/header.css" beforeDir="false" afterPath="$PROJECT_DIR$/silkroad2/src/main/resources/static/css/header.css" afterDir="false" />
-      <change beforePath="$PROJECT_DIR$/silkroad2/src/main/resources/img/1.jpg" beforeDir="false" afterPath="$PROJECT_DIR$/silkroad2/src/main/resources/static/imgs/1.jpg" afterDir="false" />
-      <change beforePath="$PROJECT_DIR$/silkroad2/src/main/resources/templates/Question/edit_question.html" beforeDir="false" afterPath="$PROJECT_DIR$/silkroad2/src/main/resources/templates/Question/edit_question.html" afterDir="false" />
-      <change beforePath="$PROJECT_DIR$/silkroad2/src/main/resources/templates/Question/footer.css" beforeDir="false" afterPath="$PROJECT_DIR$/silkroad2/src/main/resources/static/css/footer.css" afterDir="false" />
-      <change beforePath="$PROJECT_DIR$/silkroad2/src/main/resources/templates/Question/question.html" beforeDir="false" afterPath="$PROJECT_DIR$/silkroad2/src/main/resources/templates/Question/question.html" afterDir="false" />
-      <change beforePath="$PROJECT_DIR$/silkroad2/src/main/resources/templates/reponse/edit_reponse.html" beforeDir="false" afterPath="$PROJECT_DIR$/silkroad2/src/main/resources/templates/reponse/edit_reponse.html" afterDir="false" />
-      <change beforePath="$PROJECT_DIR$/silkroad2/src/main/resources/templates/reponse/reponse.css" beforeDir="false" afterPath="$PROJECT_DIR$/silkroad2/src/main/resources/static/css/reponse.css" afterDir="false" />
+      <change beforePath="$PROJECT_DIR$/silkroad2/src/main/java/com/iset/silkroad2/controller/ReponseController.java" beforeDir="false" afterPath="$PROJECT_DIR$/silkroad2/src/main/java/com/iset/silkroad2/controller/ReponseController.java" afterDir="false" />
+      <change beforePath="$PROJECT_DIR$/silkroad2/src/main/resources/templates/home/home.html" beforeDir="false" afterPath="$PROJECT_DIR$/silkroad2/src/main/resources/templates/home/home.html" afterDir="false" />
       <change beforePath="$PROJECT_DIR$/silkroad2/src/main/resources/templates/reponse/reponse.html" beforeDir="false" afterPath="$PROJECT_DIR$/silkroad2/src/main/resources/templates/reponse/reponse.html" afterDir="false" />
     </list>
     <option name="SHOW_DIALOG" value="false" />
@@ -40,8 +27,8 @@
       <list>
         <option value="Interface" />
         <option value="Enum" />
-        <option value="HTML File" />
         <option value="Class" />
+        <option value="HTML File" />
       </list>
     </option>
   </component>
@@ -86,26 +73,23 @@
     &quot;ToolWindowRun.ShowToolbar&quot;: &quot;false&quot;,
     &quot;ignore.virus.scanning.warn.message&quot;: &quot;true&quot;,
     &quot;kotlin-language-version-configured&quot;: &quot;true&quot;,
-    &quot;last_opened_file_path&quot;: &quot;C:/Users/banno/Downloads/js-liveEdit-223.8214.16.zip&quot;,
+    &quot;last_opened_file_path&quot;: &quot;C:/Users/banno/Desktop/GestionBanque-master - Copie bennouri haider&quot;,
     &quot;project.structure.last.edited&quot;: &quot;Modules&quot;,
     &quot;project.structure.proportion&quot;: &quot;0.0&quot;,
     &quot;project.structure.side.proportion&quot;: &quot;0.0&quot;,
-    &quot;settings.editor.selected.configurable&quot;: &quot;preferences.keymap&quot;
+    &quot;settings.editor.selected.configurable&quot;: &quot;advanced.settings&quot;
   }
 }</component>
   <component name="RecentsManager">
-    <key name="CreateClassDialog.RecentsKey">
-      <recent name="com.iset.silkroad2.controller" />
-    </key>
     <key name="CopyFile.RECENT_KEYS">
       <recent name="C:\silkroadproject\silkroad2\src\main\java\com\iset\silkroad2" />
     </key>
     <key name="MoveFile.RECENT_KEYS">
-      <recent name="C:\silkroadproject\silkroad2\src\main\resources\static\imgs" />
-      <recent name="C:\silkroadproject\silkroad2\src\main\resources\static\" />
-      <recent name="C:\silkroadproject\silkroad2\src\main\resources\static" />
-      <recent name="C:\silkroadproject\silkroad2\src\main\resources\css" />
+      <recent name="C:\silkroadproject\silkroad2\src\main\resources\templates\Question" />
+      <recent name="C:\silkroadproject\silkroad2\src\main\resources\templates" />
+      <recent name="C:\silkroadproject\silkroad2\src\main\resources\templates\header,footer" />
       <recent name="C:\silkroadproject\silkroad2\src\main\resources" />
+      <recent name="C:\silkroadproject\silkroad2\src\main\resources\static\imga\css\img" />
     </key>
     <key name="CopyClassDialog.RECENTS_KEY">
       <recent name="com.iset.silkroad2.entity" />
@@ -117,7 +101,7 @@
     </option>
   </component>
   <component name="RunManager">
-    <configuration name="Silkroad2Application" type="Application" factoryName="Application" nameIsGenerated="true">
+    <configuration name="Silkroad2Application" type="Application" factoryName="Application" temporary="true" nameIsGenerated="true">
       <option name="MAIN_CLASS_NAME" value="com.iset.silkroad2.Silkroad2Application" />
       <module name="silkroad2" />
       <extension name="coverage">
@@ -130,6 +114,11 @@
         <option name="Make" enabled="true" />
       </method>
     </configuration>
+    <recent_temporary>
+      <list>
+        <item itemvalue="Application.Silkroad2Application" />
+      </list>
+    </recent_temporary>
   </component>
   <component name="SharedIndexes">
     <attachedChunks>
@@ -160,12 +149,7 @@
   <component name="VcsManagerConfiguration">
     <option name="ADD_EXTERNAL_FILES_SILENTLY" value="true" />
     <MESSAGE value="i did the header and the footer('who can fix the header and the footer so i can call them in the other file &lt;th:fragment and th:replace won't work &gt;')" />
-    <MESSAGE value="i did the header and the footer('who can fix the header and the footer so i can call them in the other file &lt;th:fragment and th:replace won't work &gt;')&#10;and i did the page add question,delete question ,edit question&#10;add answer,delete answer ,adit answer" />
-    <option name="LAST_COMMIT_MESSAGE" value="i did the header and the footer('who can fix the header and the footer so i can call them in the other file &lt;th:fragment and th:replace won't work &gt;')&#10;and i did the page add question,delete question ,edit question&#10;add answer,delete answer ,adit answer" />
-  </component>
-  <component name="XSLT-Support.FileAssociations.UIState">
-    <expand />
-    <select />
+    <option name="LAST_COMMIT_MESSAGE" value="i did the header and the footer('who can fix the header and the footer so i can call them in the other file &lt;th:fragment and th:replace won't work &gt;')" />
   </component>
   <component name="com.intellij.coverage.CoverageDataManagerImpl">
     <SUITE FILE_PATH="coverage/silkroadproject$Silkroad2Application.ic" NAME="Silkroad2Application Coverage Results" MODIFIED="1715259569421" SOURCE_PROVIDER="com.intellij.coverage.DefaultCoverageFileProvider" RUNNER="idea" COVERAGE_BY_TEST_ENABLED="false" COVERAGE_TRACING_ENABLED="false">
Index: silkroad2/src/main/java/com/iset/silkroad2/controller/QuestionController.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>package com.iset.silkroad2.controller;\r\n\r\n\r\nimport com.iset.silkroad2.entities.Personne;\r\nimport com.iset.silkroad2.entities.Question;\r\nimport com.iset.silkroad2.entities.Reponse;\r\nimport com.iset.silkroad2.entities.Tags;\r\nimport com.iset.silkroad2.repository.PersonneRepository;\r\nimport com.iset.silkroad2.repository.QuestionRepository;\r\nimport com.iset.silkroad2.repository.ReponseRepository;\r\nimport jakarta.servlet.http.HttpServletRequest;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.data.crossstore.ChangeSetPersister;\r\nimport org.springframework.http.ResponseEntity;\r\nimport org.springframework.stereotype.Controller;\r\nimport org.springframework.ui.Model;\r\nimport org.springframework.web.bind.annotation.*;\r\nimport jakarta.transaction.Transactional;\r\n\r\n\r\nimport javax.swing.*;\r\nimport java.security.Principal;\r\nimport java.util.Date;\r\nimport java.util.List;\r\nimport java.util.Map;\r\nimport java.util.Optional;\r\n\r\n\r\n@Controller\r\n@RequestMapping(\"/question\")\r\npublic class QuestionController {\r\n    @Autowired\r\n    QuestionRepository questionRepository;\r\n\r\n    @Autowired\r\n    ReponseRepository  reponseRepository; // Corrected the variable name\r\n    @Autowired\r\n    PersonneRepository personneRepository; // Corrected the variable name\r\n\r\n    @GetMapping(\"/ask\")\r\n    public String showAskQuestionForm(Model model, @RequestParam(name = \"tag\", required = false, defaultValue = \"Restorant\") Tags tag) {\r\n        List<Question> questions = questionRepository.findAll();//\r\n        model.addAttribute(\"question\", new Question());\r\n        model.addAttribute(\"tags\", Tags.values());\r\n\r\n        model.addAttribute(\"questions\", questions);//\r\n\r\n        return \"Question/question\";\r\n    }\r\n\r\n\r\n    @GetMapping(\"/question/{id}/edit\")\r\n    public String showEditQuestionForm(@PathVariable Long id, Model model) {\r\n        Question question = questionRepository.findById(id);\r\n        List<Question> questions = questionRepository.findAll();//\r\n        model.addAttribute(\"question\", question);\r\n        model.addAttribute(\"tags\", Tags.values());\r\n\r\n        model.addAttribute(\"questions\", questions);//\r\n\r\n        return \"Question/edit_question\";\r\n    }\r\n        @GetMapping(\"/all\")\r\n    public List<Question> getAllQuestions(){\r\n        return questionRepository.findAll();\r\n    }\r\n\r\n    @GetMapping(\"/index\")\r\n    public String showIndex(){\r\n        return \"header,footer/header\";\r\n    }\r\n\r\n\r\n\r\n    @PostMapping(\"/add\")\r\n    public String addQuestion(@ModelAttribute Question question, Principal principal) {\r\n        // Get the current authenticated user's ID\r\n        String username = principal.getName();\r\n        Personne personne = personneRepository.findByNom(username);\r\n        Long userId = personne.getId();\r\n\r\n        question.getPersonne().setId(userId);\r\n        question.setCreatedatQ(new Date());\r\n\r\n        questionRepository.save(question);\r\n        return \"redirect:/index\";\r\n    }\r\n\r\n    @PostMapping(\"/hi\")\r\n    public String addQuestionn(@ModelAttribute(\"question\") Question question) {\r\n        question.setCreatedatQ(new Date());\r\n        questionRepository.save(question);\r\n        return \"redirect:/question/index\";\r\n    }\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n    @GetMapping(\"/{id}\")\r\n    public Question getQuestionById(@PathVariable Long id) {\r\n        return questionRepository.findById(id);\r\n    }\r\n\r\n\r\n\r\n\r\n\r\n    @DeleteMapping(\"/{id}\")\r\n    @Transactional\r\n    public void deleteQuestion(@PathVariable Long id) throws NotFoundException {\r\n        Optional<Question> optionalQuestion = Optional.ofNullable(questionRepository.findById(id));\r\n        if (optionalQuestion.isPresent()) {\r\n            Question question = optionalQuestion.get();\r\n            // Delete related responses\r\n            List<Reponse> responses = reponseRepository.findByQuestion(question);\r\n            reponseRepository.deleteAll(responses);\r\n            // Delete the question\r\n            questionRepository.deleteById(id);\r\n        } else {\r\n            throw new NotFoundException(\"Question not found\");\r\n        }\r\n    }\r\n\r\n    @PutMapping(\"/modifier/{id}\")\r\n    public String modiferquestion(@PathVariable Long id, @ModelAttribute(\"question\") Question question) {\r\n        Question question1 = questionRepository.findById(id);\r\n        if (question1 != null) {\r\n            question1.setTitreq(question.getTitreq());\r\n            question1.setContenuq(question.getContenuq());\r\n            questionRepository.save(question1);\r\n            return \"redirect:/question/index\";\r\n        } else {\r\n            // Handle the case where the question with the given ID is not found\r\n            return \"redirect:/error\";\r\n        }\r\n    }\r\n\r\n    @PutMapping(\"/modify/{id}\")\r\n    public ResponseEntity<Question> modifyQuestion(@RequestBody Question question, @PathVariable Long id) {\r\n        Optional<Question> optionalQuestion = Optional.ofNullable(questionRepository.findById(id));\r\n        if (optionalQuestion.isPresent()) {\r\n            Question existingQuestion = optionalQuestion.get();\r\n            existingQuestion.setTitreq(question.getTitreq());\r\n            existingQuestion.setContenuq(question.getContenuq());\r\n            Question updatedQuestion = questionRepository.save(existingQuestion);\r\n            return ResponseEntity.ok(updatedQuestion);\r\n        } else {\r\n            return ResponseEntity.notFound().build();\r\n        }\r\n    }\r\n\r\n\r\n\r\n    @GetMapping(\"/questions/search\")\r\n    public String searchByTitle(@RequestParam String titreq, Model model) {\r\n        List<Question> questions = questionRepository.findByTitreqContaining(titreq);\r\n        model.addAttribute(\"questions\", questions);\r\n        return \"home/home\"; // Assuming this is the name of your Thymeleaf template\r\n    }\r\n\r\n\r\n\r\n    @GetMapping(\"/questions\")\r\n    public String list(Model model) {\r\n        List<Question> questions = questionRepository.findAll(); // Implement this method in your service\r\n        model.addAttribute(\"questions\", questions);\r\n        return \"home/home\";\r\n    }\r\n\r\n\r\n\r\n    //    signaler\r\n    @PostMapping(\"/signal/{questionId}\")\r\n    public ResponseEntity<?> signalQuestion(@PathVariable Long questionId) {\r\n        Optional<Question> optionalQuestion = Optional.ofNullable(questionRepository.findById(questionId));\r\n        if (optionalQuestion.isPresent()) {\r\n            Question question = optionalQuestion.get();\r\n            question.setReported(true);\r\n            questionRepository.save(question);\r\n            return ResponseEntity.ok(question);\r\n        } else {\r\n            return ResponseEntity.notFound().build();\r\n        }\r\n    }\r\n\r\n\r\n}\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/silkroad2/src/main/java/com/iset/silkroad2/controller/QuestionController.java b/silkroad2/src/main/java/com/iset/silkroad2/controller/QuestionController.java
--- a/silkroad2/src/main/java/com/iset/silkroad2/controller/QuestionController.java	
+++ b/silkroad2/src/main/java/com/iset/silkroad2/controller/QuestionController.java	
@@ -16,6 +16,7 @@
 import org.springframework.ui.Model;
 import org.springframework.web.bind.annotation.*;
 import jakarta.transaction.Transactional;
+import org.springframework.web.servlet.mvc.support.RedirectAttributes;
 
 
 import javax.swing.*;
@@ -96,14 +97,6 @@
 
 
 
-
-
-
-
-
-
-
-
     @GetMapping("/{id}")
     public Question getQuestionById(@PathVariable Long id) {
         return questionRepository.findById(id);
@@ -115,7 +108,7 @@
 
     @DeleteMapping("/{id}")
     @Transactional
-    public void deleteQuestion(@PathVariable Long id) throws NotFoundException {
+    public String deleteQuestion(@PathVariable Long id, RedirectAttributes redirectAttributes) {
         Optional<Question> optionalQuestion = Optional.ofNullable(questionRepository.findById(id));
         if (optionalQuestion.isPresent()) {
             Question question = optionalQuestion.get();
@@ -124,10 +117,13 @@
             reponseRepository.deleteAll(responses);
             // Delete the question
             questionRepository.deleteById(id);
+            redirectAttributes.addFlashAttribute("message", "Question deleted successfully.");
         } else {
-            throw new NotFoundException("Question not found");
+            redirectAttributes.addFlashAttribute("error", "Question not found.");
         }
+        return "redirect:/question/questions";
     }
+
 
     @PutMapping("/modifier/{id}")
     public String modiferquestion(@PathVariable Long id, @ModelAttribute("question") Question question) {
@@ -192,6 +188,23 @@
     }
 
 
+    @PutMapping("/{id}/like")
+    public ResponseEntity<Question> likeQuestion(@PathVariable Long id, @RequestBody Map<String, Boolean> payload) {
+        Optional<Question> optionalQuestion = Optional.ofNullable(questionRepository.findById(id));
+        if (!optionalQuestion.isPresent()) {
+            return ResponseEntity.notFound().build();
+        }
+
+        Question question = optionalQuestion.get();
+        if (payload.get("increment")) {
+            question.setJaime(question.getJaime() + 1);
+        } else {
+            question.setDislike(question.getDislike() + 1);
+        }
+
+        questionRepository.save(question);
+        return ResponseEntity.ok(question);
+    }
 }
 
 
@@ -203,3 +216,6 @@
 
 
 
+
+
+
Index: silkroad2/src/main/resources/templates/home/home.html
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+><!DOCTYPE html>\r\n<html lang=\"en\" xmlns:th=\"http://www.thymeleaf.org\">\r\n<head>\r\n    <meta charset=\"UTF-8\">\r\n    <title>Title</title>\r\n    <link href=\"https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css\" rel=\"stylesheet\" integrity=\"sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH\" crossorigin=\"anonymous\">\r\n    <link rel=\"stylesheet\" href=\"https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css\" integrity=\"sha512-DTOQO9RWCH3ppGqcWaEA1BIZOC6xxalwEsw9c2QQeAIftl+Vegovlnee1c9QX4TctnWMn13TZye+giMm8e2LwA==\" crossorigin=\"anonymous\" referrerpolicy=\"no-referrer\" />\r\n    <link type=\"text/css\" href=\"/css/home.css\" rel=\"stylesheet\" />\r\n    <link type=\"text/css\" href=\"/css/header.css\" rel=\"stylesheet\" />\r\n\r\n</head>\r\n<body>\r\n<!--header-->\r\n<header class=\"navbar navbar-expand-lg bg-body-tertiary fixed-top\r\n                   navbar navbar-expand-lg bg-body-tertiary fixed-top\" >\r\n    <div class=\"container\">\r\n        <a class=\"navbar-brand\" href=\"#\">logo</a>\r\n\r\n        <!--toggle button-->\r\n\r\n        <button class=\"navbar-toggler shadow-none border-0 k\" type=\"button\" data-bs-toggle=\"offcanvas\" data-bs-target=\"#offcanvasNavbar\" aria-controls=\"offcanvasNavbar\" aria-label=\"Toggle navigation\">\r\n            <span class=\"navbar-toggler-icon\"></span>\r\n        </button>\r\n        <!--sidebar-->\r\n        <div class=\"sidebar offcanvas offcanvas-start\" tabindex=\"-1\" id=\"offcanvasNavbar\" aria-labelledby=\"offcanvasNavbarLabel\">\r\n\r\n            <!--header bar -->\r\n            <div class=\"offcanvas-header text-white border-bottom\">\r\n                <h5 class=\"offcanvas-title\" id=\"offcanvasNavbarLabel\">Offcanvas</h5>\r\n                <button type=\"button\" class=\"btn-close btn-close-white shadow-none\" data-bs-dismiss=\"offcanvas\" aria-label=\"Close\"></button>\r\n            </div>\r\n            <!--body bar-->\r\n            <div class=\"offcanvas-body d-flex flex-column flex-lg-row p-4 p-lg-0\">\r\n                <ul class=\"navbar-nav justify-content-center align-items-center fs-5 flex-grow-1 pe-3\">\r\n\r\n                    <li class=\"nav-item mx-2\">\r\n                        <a class=\"nav-link active\" aria-current=\"page\" href=\"#\">Home</a>\r\n                    </li>\r\n                    <li class=\"nav-item mx-2\">\r\n                        <a class=\"nav-link active\" aria-current=\"page\" href=\"#\">Home</a>\r\n                    </li>\r\n                    <li class=\"nav-item mx-2\">\r\n                        <a class=\"nav-link active\" aria-current=\"page\" href=\"#\">Home</a>\r\n                    </li>\r\n                    <li class=\"nav-item mx-2\">\r\n                        <a class=\"nav-link active\" aria-current=\"page\" href=\"#\">Home</a>\r\n                    </li>\r\n\r\n\r\n                </ul>\r\n\r\n                <form th:action=\"@{/question/questions/search}\" method=\"get\" class=\"d-flex justify-content-center align-items-center gap-3\" role=\"search\">\r\n                    <input class=\"form-control me-2\" type=\"search\" placeholder=\"Search\" aria-label=\"Search\" name=\"titreq\">\r\n                    <button class=\"btn btn-outline-success\" type=\"submit\">Search</button>\r\n                </form>\r\n\r\n                <!--login / signup-->\r\n                <div class=\"d-flex flex-lg-row flex-column justify-content-center align-items-center gap-3 \">\r\n                    <a href=\"#\" class=\"text-white\">log in</a>\r\n                    <a href=\"#\" class=\"text-white text-decoration-none px-3 py-1 bg-primary rounded-4\">Sign Up</a>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n\r\n</header>\r\n\r\n\r\n<!--aside-->\r\n\r\n<main class=\"container mt-5\">\r\n<aside class=\"left-aside\">\r\n    <div id=\"nav-container\">\r\n        <ul id=\"nav-list\">\r\n            <br><br>\r\n            <li><svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" fill=\"currentColor\" class=\"bi bi-house-door-fill\" viewBox=\"0 0 16 16\">\r\n                <path d=\"M6.5 14.5v-3.505c0-.245.25-.495.5-.495h2c.25 0 .5.25.5.5v3.5a.5.5 0 0 0 .5.5h4a.5.5 0 0 0 .5-.5v-7a.5.5 0 0 0-.146-.354L13 5.793V2.5a.5.5 0 0 0-.5-.5h-1a.5.5 0 0 0-.5.5v1.293L8.354 1.146a.5.5 0 0 0-.708 0l-6 6A.5.5 0 0 0 1.5 7.5v7a.5.5 0 0 0 .5.5h4a.5.5 0 0 0 .5-.5\"/>\r\n            </svg>Home</a>\r\n            </li>\r\n            <br>\r\n            <li>\r\n                <a href=\"#submenu2\" data-bs-toggle=\"collapse\" class=\"nav-link px-0 align-middle \">\r\n                    <i class=\"fs-4 bi-bootstrap\"></i> <span class=\"ms-1 d-none d-sm-inline\">Question</span></a>\r\n                <ul class=\"collapse nav flex-column ms-1\" id=\"submenu2\" data-bs-parent=\"#menu\">\r\n                    <br>\r\n                    <li><svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" fill=\"currentColor\" class=\"bi bi-person-raised-hand\" viewBox=\"0 0 16 16\">\r\n                        <path d=\"M6 6.207v9.043a.75.75 0 0 0 1.5 0V10.5a.5.5 0 0 1 1 0v4.75a.75.75 0 0 0 1.5 0v-8.5a.25.25 0 1 1 .5 0v2.5a.75.75 0 0 0 1.5 0V6.5a3 3 0 0 0-3-3H6.236a1 1 0 0 1-.447-.106l-.33-.165A.83.83 0 0 1 5 2.488V.75a.75.75 0 0 0-1.5 0v2.083c0 .715.404 1.37 1.044 1.689L5.5 5c.32.32.5.754.5 1.207\"/>\r\n                        <path d=\"M8 3a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3\"/>\r\n                    </svg> Qusetions</a>\r\n                    </li>\r\n                    <br>\r\n                    </li>\r\n                    <li class=\"w-100\">\r\n                        <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" fill=\"currentColor\" class=\"bi bi-question-diamond-fill\" viewBox=\"0 0 16 16\">\r\n                            <path d=\"M9.05.435c-.58-.58-1.52-.58-2.1 0L.436 6.95c-.58.58-.58 1.519 0 2.098l6.516 6.516c.58.58 1.519.58 2.098 0l6.516-6.516c.58-.58.58-1.519 0-2.098zM5.495 6.033a.237.237 0 0 1-.24-.247C5.35 4.091 6.737 3.5 8.005 3.5c1.396 0 2.672.73 2.672 2.24 0 1.08-.635 1.594-1.244 2.057-.737.559-1.01.768-1.01 1.486v.105a.25.25 0 0 1-.25.25h-.81a.25.25 0 0 1-.25-.246l-.004-.217c-.038-.927.495-1.498 1.168-1.987.59-.444.965-.736.965-1.371 0-.825-.628-1.168-1.314-1.168-.803 0-1.253.478-1.342 1.134-.018.137-.128.25-.266.25zm2.325 6.443c-.584 0-1.009-.394-1.009-.927 0-.552.425-.94 1.01-.94.609 0 1.028.388 1.028.94 0 .533-.42.927-1.029.927\"/>\r\n                        </svg>     New Questions</a>\r\n                    </li>\r\n                    <br>\r\n                    <li>\r\n                        <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" fill=\"currentColor\" class=\"bi bi-question-diamond-fill\" viewBox=\"0 0 16 16\">\r\n                            <path d=\"M9.05.435c-.58-.58-1.52-.58-2.1 0L.436 6.95c-.58.58-.58 1.519 0 2.098l6.516 6.516c.58.58 1.519.58 2.098 0l6.516-6.516c.58-.58.58-1.519 0-2.098zM5.495 6.033a.237.237 0 0 1-.24-.247C5.35 4.091 6.737 3.5 8.005 3.5c1.396 0 2.672.73 2.672 2.24 0 1.08-.635 1.594-1.244 2.057-.737.559-1.01.768-1.01 1.486v.105a.25.25 0 0 1-.25.25h-.81a.25.25 0 0 1-.25-.246l-.004-.217c-.038-.927.495-1.498 1.168-1.987.59-.444.965-.736.965-1.371 0-.825-.628-1.168-1.314-1.168-.803 0-1.253.478-1.342 1.134-.018.137-.128.25-.266.25zm2.325 6.443c-.584 0-1.009-.394-1.009-.927 0-.552.425-.94 1.01-.94.609 0 1.028.388 1.028.94 0 .533-.42.927-1.029.927\"/>\r\n                        </svg>   Old Questions</a>\r\n                    </li>\r\n                    <br>\r\n                </ul>\r\n                <br>\r\n            <li>\r\n\r\n                <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" fill=\"currentColor\" class=\"bi bi-people-fill\" viewBox=\"0 0 16 16\">\r\n                    <path d=\"M7 14s-1 0-1-1 1-4 5-4 5 3 5 4-1 1-1 1zm4-6a3 3 0 1 0 0-6 3 3 0 0 0 0 6m-5.784 6A2.24 2.24 0 0 1 5 13c0-1.355.68-2.75 1.936-3.72A6.3 6.3 0 0 0 5 9c-4 0-5 3-5 4s1 1 1 1zM4.5 8a2.5 2.5 0 1 0 0-5 2.5 2.5 0 0 0 0 5\"/>\r\n                </svg> User</a>\r\n            </li>\r\n            <br>\r\n            <li><svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" fill=\"currentColor\" class=\"bi bi-save2-fill\" viewBox=\"0 0 16 16\">\r\n                <path d=\"M8.5 1.5A1.5 1.5 0 0 1 10 0h4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V2a2 2 0 0 1 2-2h6c-.314.418-.5.937-.5 1.5v6h-2a.5.5 0 0 0-.354.854l2.5 2.5a.5.5 0 0 0 .708 0l2.5-2.5A.5.5 0 0 0 10.5 7.5h-2z\"/>\r\n            </svg><a href=\"#\">      Saves</a></li>\r\n            <br>\r\n            <li><svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" fill=\"currentColor\" class=\"bi bi-file-earmark-post\" viewBox=\"0 0 16 16\">\r\n                <path d=\"M14 4.5V14a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V2a2 2 0 0 1 2-2h5.5zm-3 0A1.5 1.5 0 0 1 9.5 3V1H4a1 1 0 0 0-1 1v12a1 1 0 0 0 1 1h8a1 1 0 0 0 1-1V4.5z\"/>\r\n                <path d=\"M4 6.5a.5.5 0 0 1 .5-.5h7a.5.5 0 0 1 .5.5v7a.5.5 0 0 1-.5.5h-7a.5.5 0 0 1-.5-.5zm0-3a.5.5 0 0 1 .5-.5H7a.5.5 0 0 1 0 1H4.5a.5.5 0 0 1-.5-.5\"/>\r\n            </svg><a>My posts</a></li>\r\n        </ul>\r\n    </div>\r\n</aside>\r\n\r\n\r\n<!--section-->\r\n\r\n        <section  >\r\n    <div class=\"question-list\">\r\n        <h1 th:text=\"'Question'\" style=\"text-align: center;\">Question</h1>\r\n\r\n        <a th:href=\"@{/question/ask}\" >\r\n\r\n        <button class=\"light\" >what is in your mind</button>\r\n        </a>\r\n\r\n        <div th:each=\"question, iterStat : ${questions}\" th:if=\"${iterStat.index < 8}\" class=\"question-block\">\r\n            <div class=\"mini-question\">\r\n                <a th:href=\"@{/question/question/{id}/edit(id=${question.id})}\" th:text=\"${question.titreq}\"></a>\r\n\r\n            </div>\r\n            <div class=\"question-details\">\r\n                <div class=\"left-details\">\r\n                    <div>\r\n\r\n\r\n                        <button class=\"btn btn-success upvote-button\" th:data-question-id=\"${question.id}\">\r\n                            <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" fill=\"currentColor\" class=\"bi bi-hand-thumbs-up-fill\" viewBox=\"0 0 16 16\">\r\n                                <path d=\"M6.956 1.745C7.021.81 7.908.087 8.864.325l.261.066c.463.116.874.456 1.012.965.22.816.533 2.511.062 4.51a10 10 0 0 1 .443-.051c.713-.065 1.669-.072 2.516.21.518.173.994.681 1.2 1.273.184.532.16 1.162-.234 1.733q.086.18.138.363c.077.27.113.567.113.856s-.036.586-.113.856c-.039.135-.09.273-.16.404.169.387.107.819-.003 1.148a3.2 3.2 0 0 1-.488.901c.054.152.076.312.076.465 0 .305-.089.625-.253.912C13.1 15.522 12.437 16 11.5 16H8c-.605 0-1.07-.081-1.466-.218a4.8 4.8 0 0 1-.97-.484l-.048-.03c-.504-.307-.999-.609-2.068-.722C2.682 14.464 2 13.846 2 13V9c0-.85.685-1.432 1.357-1.615.849-.232 1.574-.787 2.132-1.41.56-.627.914-1.28 1.039-1.639.199-.575.356-1.539.428-2.59z\"/>\r\n                            </svg>\r\n                        </button>\r\n                        <span class=\"upvote-count\" th:data-question-id=\"${question.id}\">\r\n                            <text x=\"0\" y=\"12\" th:text=\"${question.jaime}\"></text>\r\n                        </span>\r\n                        &nbsp;&nbsp;\r\n                        <button class=\"btn btn-dark downvote-button\" th:data-question-id=\"${question.id}\">\r\n                            <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" fill=\"currentColor\" class=\"bi bi-hand-thumbs-down-fill\" viewBox=\"0 0 16 16\">\r\n                                <path d=\"M6.956 14.534c.065.936.952 1.659 1.908 1.42l.261-.065a1.38 1.38 0 0 0 1.012-.965c.22-.816.533-2.512.062-4.51q.205.03.443.051c.713.065 1.669.071 2.516-.211.518-.173.994-.68 1.2-1.272a1.9 1.9 0 0 0-.234-1.734c.058-.118.103-.242.138-.362.077-.27.113-.568.113-.856 0-.29-.036-.586-.113-.857a2 2 0 0 0-.16-.403c.169-.387.107-.82-.003-1.149a3.2 3.2 0 0 0-.488-.9c.054-.153.076-.313.076-.465a1.86 1.86 0 0 0-.253-.912C13.1.757 12.437.28 11.5.28H8c-.605 0-1.07.08-1.466.217a4.8 4.8 0 0 0-.97.485l-.048.029c-.504.308-.999.61-2.068.723C2.682 1.815 2 2.434 2 3.279v4c0 .851.685 1.433 1.357 1.616.849.232 1.574.787 2.132 1.41.56.626.914 1.28 1.039 1.638.199.575.356 1.54.428 2.591\"/>\r\n                            </svg>\r\n                        </button>\r\n                        <span class=\"downvote-count\" th:data-question-id=\"${question.id}\">\r\n                        <text x=\"0\" y=\"12\" th:text=\"${question.dislike}\"></text>\r\n                    </span>\r\n                    </div>\r\n                    <br><br>\r\n\r\n                    <div>\r\n                        <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"40\" height=\"16\" fill=\"currentColor\" class=\"bi bi-eye-fill\" viewBox=\"0 0 16 16\">\r\n                        <path d=\"M10.5 8a2.5 2.5 0 1 1-5 0 2.5 2.5 0 0 1 5 0\"/>\r\n                        <path d=\"M0 8s3-5.5 8-5.5S16 8 16 8s-3 5.5-8 5.5S0 8 0 8m8 3.5a3.5 3.5 0 1 0 0-7 3.5 3.5 0 0 0 0 7\"/>\r\n                        </svg><text x=\"0\" y=\"12\" th:text=\"${question.nbanswers}\"></text>\r\n\r\n                        &nbsp;\r\n                        <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" fill=\"currentColor\" class=\"bi bi-list-check\" viewBox=\"0 0 16 16\">\r\n                            <path fill-rule=\"evenodd\" d=\"M5 11.5a.5.5 0 0 1 .5-.5h9a.5.5 0 0 1 0 1h-9a.5.5 0 0 1-.5-.5m0-4a.5.5 0 0 1 .5-.5h9a.5.5 0 0 1 0 1h-9a.5.5 0 0 1-.5-.5m0-4a.5.5 0 0 1 .5-.5h9a.5.5 0 0 1 0 1h-9a.5.5 0 0 1-.5-.5M3.854 2.146a.5.5 0 0 1 0 .708l-1.5 1.5a.5.5 0 0 1-.708 0l-.5-.5a.5.5 0 1 1 .708-.708L2 3.293l1.146-1.147a.5.5 0 0 1 .708 0m0 4a.5.5 0 0 1 0 .708l-1.5 1.5a.5.5 0 0 1-.708 0l-.5-.5a.5.5 0 1 1 .708-.708L2 7.293l1.146-1.147a.5.5 0 0 1 .708 0m0 4a.5.5 0 0 1 0 .708l-1.5 1.5a.5.5 0 0 1-.708 0l-.5-.5a.5.5 0 0 1 .708-.708l.146.147 1.146-1.147a.5.5 0 0 1 .708 0\"/>\r\n                        </svg><text x=\"0\" y=\"12\" th:text=\"${question.nbanswers}\"></text>\r\n                    </div>\r\n                </div>\r\n                <div class=\"right-details\">\r\n                    <div th:text=\"${#dates.format(question.createdatQ, 'yyyy-MM-dd HH:mm:ss')}\"></div>\r\n                    <div>\r\n                        <strong>Tags:</strong>\r\n                        <text x=\"0\" y=\"12\" th:text=\"${question.tag}\"></text>\r\n                    </div>\r\n\r\n\r\n                    <button class=\"btn btn-danger report-button\" th:data-question=\"${question.id}\">\r\n                        Report Question\r\n                    </button>\r\n\r\n\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</section>\r\n\r\n\r\n<!--    aside pour le question recent -->\r\n    <aside>\r\n        <div  class=\"right-aside\">\r\n            <div class=\"question-box\">\r\n                <h3 style=\"color:#FFDAB9\">Recent Questions</h3>\r\n                <div th:each=\"question, iterStat : ${questions}\" th:if=\"${iterStat.index >= iterStat.size - 6}\" class=\"mini-question\">\r\n                    <a th:href=\"@{/question/question/{id}/edit(id=${question.id})}\" th:text=\"${question.titreq}\"></a>\r\n                </div>\r\n\r\n\r\n\r\n\r\n            </div>\r\n            <br><br><br>\r\n            <div>\r\n                <p>Total Questions: {{ totalQuestions }}</p>\r\n                <p>Total Users: {{ totalUsers }}</p>\r\n                <br><br>\r\n                <p>Our enterprise forum facilitates seamless collaboration, offering a centralized platform for team members to engage in open discussions and share valuable insights. This streamlined communication enhances teamwork and contributes to a more cohesive work environment</p>\r\n                <br>\r\n                <p>Acting as an efficient information hub, the forum enables swift exchange of updates and project details. This accessibility ensures that everyone stays well-informed, fostering a culture of transparency and agility within the organization.</p>\r\n                <br>\r\n                <p>A special thank you to each participant for making this forum a dynamic space. Your active involvement has contributed to creating a vibrant community that encourages innovation and knowledge sharing. Together, we continue to build a valuable resource for our collective success.</p>\r\n            </div>\r\n        </div>\r\n\r\n    </aside>\r\n\r\n\r\n</main>\r\n\r\n<!--footer-->\r\n<footer th:fragment=\"footer\">\r\n    <div >\r\n        <div class=\"footerContainer\">\r\n            <div class=\"socialIcons\">\r\n                <a href=\"\"><i class=\"fa-brands fa-facebook\"></i></a>\r\n                <a href=\"\"><i class=\"fa-brands fa-instagram\"></i></a>\r\n                <a href=\"\"><i class=\"fa-brands fa-twitter\"></i></a>\r\n                <a href=\"\"><i class=\"fa-brands fa-google-plus\"></i></a>\r\n                <a href=\"\"><i class=\"fa-brands fa-youtube\"></i></a>\r\n            </div>\r\n            <div class=\"footerNav\">\r\n                <ul><li><a href=\"\">Home</a></li>\r\n                    <li><a href=\"\">News</a></li>\r\n                    <li><a href=\"\">About</a></li>\r\n                    <li><a href=\"\">Contact Us</a></li>\r\n                    <li><a href=\"\">our Team</a></li>\r\n                </ul>\r\n            </div>\r\n\r\n        </div>\r\n        <div class=\"footerBottom\">\r\n            <p>Copyright &copy;2023; Designed by <span class=\"designer\">Noman</span></p>\r\n        </div>\r\n    </div>\r\n    <script src=\"https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js\" integrity=\"sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz\" crossorigin=\"anonymous\"></script>\r\n    <script src=\"https://cdn.jsdelivr.net/gh/habibmhamadi/multi-select-tag@2.0.1/dist/js/multi-select-tag.js\"></script>\r\n    <script src=\"https://cdn.jsdelivr.net/gh/habibmhamadi/multi-select-tag@2.0.1/dist/js/multi-select-tag.js\"></script>\r\n</footer>\r\n\r\n<script  >\r\n\r\n\r\n\r\ndocument.querySelectorAll('.upvote-button').forEach(button => {\r\n    button.addEventListener('click', async () => {\r\n        const questionId = button.getAttribute('data-question-id');\r\n\r\n        // Make your API call to update the upvote count\r\n        const response = await fetch(`/question/${questionId}/like`, {\r\n            method: 'PUT',\r\n            headers: {\r\n                'Content-Type': 'application/json'\r\n            },\r\n            body: JSON.stringify({\r\n                increment: true\r\n            })\r\n        });\r\n\r\n        if (response.ok) {\r\n            // Update the displayed upvote count\r\n            const data = await response.json();\r\n            document.querySelector(`.upvote-count[data-question-id=\"${questionId}\"]`).textContent = data.jaime;\r\n        }\r\n    });\r\n});\r\ndocument.querySelectorAll('.downvote-button').forEach(button => {\r\n    button.addEventListener('click', async () => {\r\n        const questionId = button.getAttribute('data-question-id');\r\n            const response = await fetch(`/question/${questionId}/like`, {\r\n            method: 'PUT',\r\n            headers: {\r\n                'Content-Type': 'application/json'\r\n            },\r\n            body: JSON.stringify({\r\n                increment: false\r\n            })\r\n        });\r\n        if (response.ok) {\r\n            const data = await response.json();\r\n            document.querySelector(`.downvote-count[data-question-id=\"${questionId}\"]`).textContent = data.dislike;\r\n        }\r\n    });\r\n});\r\n\r\n</script>\r\n\r\n<script >\r\ndocument.querySelectorAll('.report-button').forEach(button => {\r\n    button.addEventListener('click', async () => {\r\n        const questionId = button.getAttribute('data-question');\r\n        const response = await fetch(`/question/signal/${questionId}`, {\r\n            method: 'POST'\r\n        });\r\n        if (response.ok) {\r\n            // Update the UI to reflect that the question has been reported\r\n            alert('Question reported successfully');\r\n        } else {\r\n            alert('Failed to report question');\r\n        }\r\n    });\r\n});\r\n\r\n</script>\r\n</body>\r\n</html>
===================================================================
diff --git a/silkroad2/src/main/resources/templates/home/home.html b/silkroad2/src/main/resources/templates/home/home.html
--- a/silkroad2/src/main/resources/templates/home/home.html	
+++ b/silkroad2/src/main/resources/templates/home/home.html	
@@ -137,7 +137,7 @@
 
         <div th:each="question, iterStat : ${questions}" th:if="${iterStat.index < 8}" class="question-block">
             <div class="mini-question">
-                <a th:href="@{/question/question/{id}/edit(id=${question.id})}" th:text="${question.titreq}"></a>
+                <a th:href="@{/reponse/{id}(id=${question.id})}" th:text="${question.titreq}"></a>
 
             </div>
             <div class="question-details">
Index: silkroad2/src/main/resources/templates/reponse/reponse.html
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+><!DOCTYPE html>\r\n<html lang=\"en\" xmlns:th=\"http://www.thymeleaf.org\">\r\n<head>\r\n    <meta charset=\"UTF-8\">\r\n    <title>Title</title>\r\n  <link rel=\"stylesheet\" href=\"https://cdn.jsdelivr.net/gh/habibmhamadi/multi-select-tag@2.0.1/dist/css/multi-select-tag.css\">\r\n\r\n  <link href=\"https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css\" rel=\"stylesheet\" integrity=\"sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH\" crossorigin=\"anonymous\">\r\n  <link rel=\"stylesheet\" href=\"https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css\" integrity=\"sha512-DTOQO9RWCH3ppGqcWaEA1BIZOC6xxalwEsw9c2QQeAIftl+Vegovlnee1c9QX4TctnWMn13TZye+giMm8e2LwA==\" crossorigin=\"anonymous\" referrerpolicy=\"no-referrer\" />\r\n\r\n  <link type=\"text/css\" href=\"/css/reponse.css\" rel=\"stylesheet\" />\r\n  <link type=\"text/css\" href=\"/css/header.css\" rel=\"stylesheet\" />\r\n</head>\r\n<body  style=\"padding-top: 56px;\">\r\n<!--navbar-->\r\n<header class=\"navbar navbar-expand-lg bg-body-tertiary fixed-top\r\n                   navbar navbar-expand-lg bg-body-tertiary fixed-top\" >\r\n  <div class=\"container\">\r\n    <a class=\"navbar-brand\" href=\"#\">logo</a>\r\n\r\n    <!--toggle button-->\r\n\r\n    <button class=\"navbar-toggler shadow-none border-0 k\" type=\"button\" data-bs-toggle=\"offcanvas\" data-bs-target=\"#offcanvasNavbar\" aria-controls=\"offcanvasNavbar\" aria-label=\"Toggle navigation\">\r\n      <span class=\"navbar-toggler-icon\"></span>\r\n    </button>\r\n    <!--sidebar-->\r\n    <div class=\"sidebar offcanvas offcanvas-start\" tabindex=\"-1\" id=\"offcanvasNavbar\" aria-labelledby=\"offcanvasNavbarLabel\">\r\n\r\n      <!--header bar -->\r\n      <div class=\"offcanvas-header text-white border-bottom\">\r\n        <h5 class=\"offcanvas-title\" id=\"offcanvasNavbarLabel\">Offcanvas</h5>\r\n        <button type=\"button\" class=\"btn-close btn-close-white shadow-none\" data-bs-dismiss=\"offcanvas\" aria-label=\"Close\"></button>\r\n      </div>\r\n      <!--body bar-->\r\n      <div class=\"offcanvas-body d-flex flex-column flex-lg-row p-4 p-lg-0\">\r\n        <ul class=\"navbar-nav justify-content-center align-items-center fs-5 flex-grow-1 pe-3\">\r\n\r\n          <li class=\"nav-item mx-2\">\r\n            <a class=\"nav-link active\" aria-current=\"page\" href=\"#\">Home</a>\r\n          </li>\r\n          <li class=\"nav-item mx-2\">\r\n            <a class=\"nav-link active\" aria-current=\"page\" href=\"#\">Home</a>\r\n          </li>\r\n          <li class=\"nav-item mx-2\">\r\n            <a class=\"nav-link active\" aria-current=\"page\" href=\"#\">Home</a>\r\n          </li>\r\n          <li class=\"nav-item mx-2\">\r\n            <a class=\"nav-link active\" aria-current=\"page\" href=\"#\">Home</a>\r\n          </li>\r\n\r\n\r\n        </ul>\r\n\r\n        <form  class=\"d-flex justify-content-center align-items-center gap-3 \" role=\"search\">\r\n          <input class=\"form-control me-2\" type=\"search\" placeholder=\"Search\" aria-label=\"Search\">\r\n          <button class=\"btn btn-outline-success\" type=\"submit\">Search</button>\r\n        </form>\r\n        <!--login / signup-->\r\n        <div class=\"d-flex flex-lg-row flex-column justify-content-center align-items-center gap-3 \">\r\n          <a href=\"#\" class=\"text-white\">log in</a>\r\n          <a href=\"#\" class=\"text-white text-decoration-none px-3 py-1 bg-primary rounded-4\">Sign Up</a>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n\r\n</header>\r\n<!--end of header-->\r\n\r\n<!--reponse_code-->\r\n\r\n\r\n<div class=\"container-fluid \">\r\n  <div class=\"row\">\r\n    <div class=\"col-lg-8 \">\r\n      <div class=\"title-box\">\r\n        <h3 style=\"color:#FFDAB9\">the question</h3>\r\n        <div class=\"titleq\">\r\n          <p th:text=\"${question.titreq}\"></p>\r\n          <div class=\"div2\">\r\n<!--            <div style=\"color:#88C1D0\" th:text=\"${question.user.nom}\"></div>-->\r\n            <div style=\"color:#88C1D0\" th:text=\"${#dates.format(question.createdatQ, 'yyyy-MM-dd HH:mm:ss')}\"></div>\r\n\r\n          </div>\r\n        </div>\r\n        <div class=\"text1\">\r\n          <p th:text=\"${question.contenuq}\" th:utext=\"${question.contenuq}\"></p>\r\n        </div>\r\n\r\n        <div class=\"answer1\">\r\n          <h4 style=\"color:#FFDAB9\">Answers:</h4>\r\n          <ul th:if=\"${question.reponse.size() > 0}\">\r\n            <li th:each=\"answer, index : ${answers}\" class=\"code_block\">\r\n<!--              <p th:text=\"'Answer ' + ${index + 1} + ' by ' \"></p>-->\r\n\r\n              <p th:text=\"${answer.getContenua()}\"></p>\r\n            </li>\r\n          </ul>\r\n          <p th:unless=\"${question.reponse.size() > 0}\">No answers yet.</p>\r\n        </div>\r\n\r\n\r\n<!--answer input-->\r\n\r\n<!--        th:classappend=\"${#strings.contains(#request.getRequestURI(), 'error') ? ' error' : ''}\"-->\r\n        <div class=\"textarea2\" >\r\n          <h4 style=\"color:#FFDAB9\">Your Answer:</h4>\r\n          <form th:action=\"@{/reponse/{questionId}/addansweronlycontent    (questionId=${question.id})}\" method=\"post\" th:object=\"${reponse}\">\r\n            <textarea id=\"reponse_area\" th:field=\"*{contenua}\"></textarea>\r\n            <button type=\"submit\" class=\"bn632-hover bn26\">Save</button>\r\n          </form>\r\n        </div>\r\n\r\n\r\n        <a th:href=\"@{/home}\"><button class=\"bn632-hover bn21\">Cancel</button></a>\r\n      </div>\r\n    </div>\r\n\r\n<!--    <div class=\"col-lg-4  bg-light\">-->\r\n\r\n\r\n<!--      <div class=\"question-box\">-->\r\n<!--        <h3 style=\"color:#FFDAB9\">Recent Questions</h3>-->\r\n<!--        {% for question1 in questions|reverse|slice(0, 5) %}-->\r\n<!--        <div class=\"mini-question\">-->\r\n\r\n<!--          <a href=\"{{ path('app_qand_a', {'id': question1.id}) }}\">{{ question1.title }}</a>-->\r\n\r\n<!--        </div>-->\r\n<!--        {% endfor %}-->\r\n<!--      </div>-->\r\n<!--      <br><br><br>-->\r\n<!--      <div>-->\r\n<!--        <p>Please exercise caution and attention when providing your answer to a question. It is crucial to follow the outlined steps meticulously to ensure accuracy and clarity in your response. Taking the time to understand the question thoroughly and adhering to the provided instructions will not only enhance the quality of your answer but also contribute to a more effective and meaningful exchange of information. Remember that thoughtful and well-considered responses can greatly benefit both the asker and others who may come across the question.</p>-->\r\n<!--      </div>-->\r\n<!--    </div>-->\r\n  </div>\r\n</div>\r\n\r\n<!--end reponse_code-->\r\n\r\n<!--start footer-->\r\n<footer th:fragment=\"footer\">\r\n  <div >\r\n    <div class=\"footerContainer\">\r\n      <div class=\"socialIcons\">\r\n        <a href=\"\"><i class=\"fa-brands fa-facebook\"></i></a>\r\n        <a href=\"\"><i class=\"fa-brands fa-instagram\"></i></a>\r\n        <a href=\"\"><i class=\"fa-brands fa-twitter\"></i></a>\r\n        <a href=\"\"><i class=\"fa-brands fa-google-plus\"></i></a>\r\n        <a href=\"\"><i class=\"fa-brands fa-youtube\"></i></a>\r\n      </div>\r\n      <div class=\"footerNav\">\r\n        <ul><li><a href=\"\">Home</a></li>\r\n          <li><a href=\"\">News</a></li>\r\n          <li><a href=\"\">About</a></li>\r\n          <li><a href=\"\">Contact Us</a></li>\r\n          <li><a href=\"\">our Team</a></li>\r\n        </ul>\r\n      </div>\r\n\r\n    </div>\r\n    <div class=\"footerBottom\">\r\n      <p>Copyright &copy;2023; Designed by <span class=\"designer\">Noman</span></p>\r\n    </div>\r\n  </div>\r\n  <script src=\"https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js\" integrity=\"sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz\" crossorigin=\"anonymous\"></script>\r\n  <script src=\"https://cdn.jsdelivr.net/gh/habibmhamadi/multi-select-tag@2.0.1/dist/js/multi-select-tag.js\"></script>\r\n  <script src=\"https://cdn.jsdelivr.net/gh/habibmhamadi/multi-select-tag@2.0.1/dist/js/multi-select-tag.js\"></script>\r\n</footer>\r\n\r\n<!--tiny mce-->\r\n\r\n<script src=\"https://cdn.tiny.cloud/1/3dpef6467cmpi2yqeg6yxn1k9ddwis5flsuv1ygh5ey14mnj/tinymce/5/tinymce.min.js\" referrerpolicy=\"origin\"></script>\r\n<script src=\"https://cdn.tiny.cloud/1/3dpef6467cmpi2yqeg6yxn1k9ddwis5flsuv1ygh5ey14mnj/tinymce/5/jquery.tinymce.min.js\" referrerpolicy=\"origin\"></script>\r\n<script>\r\n  tinymce.init({\r\n    selector: '#reponse_area',\r\n        height: 350,\r\n        menubar: false,\r\n        plugins: [\r\n          'advlist autolink lists link image charmap print preview anchor',\r\n          'searchreplace visualblocks code fullscreen',\r\n          'insertdatetime media table paste code help wordcount'\r\n        ],\r\n        toolbar: 'undo redo | formatselect | bold italic backcolor | alignleft aligncenter alignright alignjustify | bullist numlist outdent indent | removeformat | help'\r\n\r\n  });\r\n  </script>\r\n</body>\r\n</html>\r\n
===================================================================
diff --git a/silkroad2/src/main/resources/templates/reponse/reponse.html b/silkroad2/src/main/resources/templates/reponse/reponse.html
--- a/silkroad2/src/main/resources/templates/reponse/reponse.html	
+++ b/silkroad2/src/main/resources/templates/reponse/reponse.html	
@@ -105,7 +105,7 @@
 <!--        th:classappend="${#strings.contains(#request.getRequestURI(), 'error') ? ' error' : ''}"-->
         <div class="textarea2" >
           <h4 style="color:#FFDAB9">Your Answer:</h4>
-          <form th:action="@{/reponse/{questionId}/addansweronlycontent    (questionId=${question.id})}" method="post" th:object="${reponse}">
+          <form th:action="@{/reponse/{questionId}/addanswer    (questionId=${question.id})}" method="post" th:object="${reponse}">
             <textarea id="reponse_area" th:field="*{contenua}"></textarea>
             <button type="submit" class="bn632-hover bn26">Save</button>
           </form>
